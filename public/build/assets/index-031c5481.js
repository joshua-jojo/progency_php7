import{M}from"./MainLayout-437e79c3.js";import{C as S}from"./card-23fc99ff.js";import{M as B}from"./ModalMd-8f28dfb7.js";import{I}from"./InputText-f9ac326c.js";import{I as E}from"./InputSelect-1370e3e0.js";import{L,h as b,r as s,o as d,c as h,a as l,w as r,d as g,F as y,b as e,m as N,t as m,e as T,g as _}from"./app-1e1e7699.js";import{B as F}from"./ButtonSubmit-13f22934.js";import{_ as j}from"./_plugin-vue_export-helper-c27b6911.js";const R={layout:M,props:{user:Array},components:{Card:S,ModalMd:B,InputText:I,InputSelect:E,ButtonSubmit:F,Link:L},setup(){const o=b({nama:null,email:null,password:null,password_confirmation:null,role:null}),n=b({id:null,nama:null,email:null,role:null}),c=b({id:null,nama:null});return{tambah:o,edit:n,hapus:c}},data(){return{role:[{nama:"guest"},{nama:"admin"},{nama:"super admin"},{nama:"agen"},{nama:"developer"}]}},methods:{submit_tambah(){this.tambah.post(route("pengaturan.user.store"),{onSuccess:()=>{document.getElementById("tambah").click()}})},submit_edit(){this.edit.put(route("pengaturan.user.update",{user:this.edit.id}),{onSuccess:()=>{document.getElementById("edit").click()}})},submit_hapus(){this.hapus.delete(route("pengaturan.user.destroy",{user:this.hapus.id}),{onSuccess:()=>{document.getElementById("hapus").click()}})},get_edit(o){this.edit.id=o.id,this.edit.nama=o.nama,this.edit.email=o.email,this.edit.role=o.role},get_hapus(o){this.hapus.id=o.id,this.hapus.nama=o.nama}}},z=e("div",{class:"mb-2 flex justify-end"},[e("label",{for:"tambah",class:"btn btn-success btn-sm"},[e("i",{class:"fa fa-plus"})])],-1),A={class:"overflow-x-auto"},D={class:"table table-compact w-full table-zebra text-center"},H=e("thead",null,[e("tr",null,[e("td",null,"no"),e("td",null,"nama"),e("td",null,"email"),e("td",null,"role"),e("td",null,"action")])],-1),K={class:"flex justify-center gap-2"},P=e("i",{class:"fa fa-list"},null,-1),q=["onClick"],G=e("i",{class:"fa fa-pen"},null,-1),J=[G],O=["onClick"],Q=e("i",{class:"fa fa-trash"},null,-1),W=[Q],X={class:"grid grid-cols-2 gap-3"};function Y(o,n,c,a,f,u){const w=s("Link"),C=s("card"),i=s("input-text"),V=s("input-select"),p=s("button-submit"),x=s("ModalMd"),k=s("modal-md");return d(),h(y,null,[l(C,{title:"User"},{default:r(()=>[z,e("div",A,[e("table",D,[H,e("tbody",null,[(d(!0),h(y,null,N(c.user,(t,U)=>(d(),h("tr",{key:t.id},[e("td",null,m(U+1),1),e("td",null,m(t.nama),1),e("td",null,m(t.email),1),e("td",null,m(t.role),1),e("td",K,[t.role!="guest"&&t.role!="admin"&&t.role!="super admin"?(d(),g(w,{key:0,href:t.role=="agen"?o.route("pengaturan.agen.show",{agen:t.id}):o.route("pengaturan.developer.show",{developer:t.id}),class:"btn btn-xs btn-primary"},{default:r(()=>[P]),_:2},1032,["href"])):T("",!0),e("label",{onClick:v=>u.get_edit(t),for:"edit",class:"btn btn-xs btn-secondary"},J,8,q),e("label",{onClick:v=>u.get_hapus(t),class:"btn btn-xs btn-error",for:"hapus"},W,8,O)])]))),128))])])])]),_:1}),l(x,{id:"tambah",title:"Tambah User",close:""},{action:r(()=>[l(p,{onClick:u.submit_tambah,form:a.tambah,type:"success"},{default:r(()=>[_("Tambah")]),_:1},8,["onClick","form"])]),default:r(()=>[l(i,{title:"nama",inputValue:a.tambah.nama,"onUpdate:inputValue":n[0]||(n[0]=t=>a.tambah.nama=t),error:a.tambah.errors.nama},null,8,["inputValue","error"]),l(i,{title:"email",inputValue:a.tambah.email,"onUpdate:inputValue":n[1]||(n[1]=t=>a.tambah.email=t),error:a.tambah.errors.email},null,8,["inputValue","error"]),e("div",X,[l(i,{title:"password",inputValue:a.tambah.password,"onUpdate:inputValue":n[2]||(n[2]=t=>a.tambah.password=t),error:a.tambah.errors.password},null,8,["inputValue","error"]),l(i,{title:"konfirmasi password",inputValue:a.tambah.password_confirmation,"onUpdate:inputValue":n[3]||(n[3]=t=>a.tambah.password_confirmation=t),error:a.tambah.errors.password_confirmation,placeholder:"Masukkan Kembali Password"},null,8,["inputValue","error"])]),l(V,{title:"Role",dataSelect:f.role,pick:"nama",label:"nama",inputValue:a.tambah.role,"onUpdate:inputValue":n[4]||(n[4]=t=>a.tambah.role=t),error:a.tambah.errors.role},null,8,["dataSelect","inputValue","error"])]),_:1}),(d(),g(k,{id:"edit",close:"",title:"Edit User "+a.edit.nama,key:a.edit.id},{action:r(()=>[l(p,{onClick:u.submit_edit,form:a.edit,type:"success"},{default:r(()=>[_("Edit")]),_:1},8,["onClick","form"])]),default:r(()=>[l(i,{title:"nama",inputValue:a.edit.nama,"onUpdate:inputValue":n[5]||(n[5]=t=>a.edit.nama=t),error:a.edit.errors.nama},null,8,["inputValue","error"]),l(i,{title:"email",inputValue:a.edit.email,"onUpdate:inputValue":n[6]||(n[6]=t=>a.edit.email=t),error:a.edit.errors.email},null,8,["inputValue","error"]),l(V,{title:"Role",dataSelect:f.role,pick:"nama",label:"nama",inputValue:a.edit.role,"onUpdate:inputValue":n[7]||(n[7]=t=>a.edit.role=t),error:a.tambah.errors.role},null,8,["dataSelect","inputValue","error"])]),_:1},8,["title"])),l(k,{id:"hapus",title:"Hapus User "+a.hapus.nama,close:""},{action:r(()=>[l(p,{onClick:u.submit_hapus,form:a.hapus,type:"error"},{default:r(()=>[_("hapus")]),_:1},8,["onClick","form"])]),_:1},8,["title"])],64)}const ra=j(R,[["render",Y]]);export{ra as default};
