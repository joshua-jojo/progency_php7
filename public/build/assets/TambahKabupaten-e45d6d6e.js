import{B as y}from"./ButtonSubmit-13f22934.js";import{C as w}from"./card-23fc99ff.js";import{I as S}from"./InputMapsMark-624f9b2f.js";import{I as B}from"./InputText-f9ac326c.js";import{M as I}from"./ModalMd-8f28dfb7.js";import{h as m,r as s,o as r,c as k,a as i,w as o,d as b,F as g,b as t,n as V,m as N,t as _,g as z}from"./app-1e1e7699.js";import j from"./maps-18188534.js";import T from"./mapsKabupatenView-db4212b3.js";import{_ as U}from"./_plugin-vue_export-helper-c27b6911.js";/* empty css                */import"./leaflet-src-ccbfcb4d.js";import"./ModalLg-eeeaf3d4.js";const E={components:{Card:w,ButtonSubmit:y,ModalMd:I,InputText:B,InputMapsMark:S,VueMaps:j,MapsViewKabupaten:T},props:{dataKabupaten:Array},setup(){const u=m({nama:null,koordinat:null}),n=m({id:null,nama:null,koordinat:null}),p=m({id:null,nama:null});return{kabupaten:u,edit_kabupaten:n,hapus_kabupaten:p}},methods:{submit_kabupaten(){this.kabupaten.post(route("master.kabupaten.store"),{onSuccess:()=>{this.kabupaten.reset()},preserveScroll:!0})},submit_edit_kabupaten(){this.edit_kabupaten.put(route("master.kabupaten.update",{kabupaten:this.edit_kabupaten.id}),{onSuccess:()=>{this.edit_kabupaten.reset(),document.getElementById("edit-kabupaten").click()}})},get_kabupaten(u){this.edit_kabupaten.id=u.id,this.edit_kabupaten.nama=u.nama,this.edit_kabupaten.koordinat=JSON.parse(u.koordinat)},get_hapus_kabupaten(u){this.hapus_kabupaten.id=u.id,this.hapus_kabupaten.nama=u.nama},submit_hapus_kabupaten(){this.hapus_kabupaten.delete(route("master.kabupaten.destroy",{kabupaten:this.hapus_kabupaten.id}),{onSuccess:()=>{this.hapus_kabupaten.reset()}})}}},F={class:"grid grid-cols-1 lg:grid-cols-12 h-full w-full gap-2"},L={class:"w-full lg:col-span-5 h-max z-10 order-3"},D={class:"lg:col-span-7 h-[25rem] lg:h-full z-0 order-4"},P={class:"lg:col-span-12 max-h-[15rem] z-0 order-2"},A={class:"overflow-x-auto"},H={class:"table w-full table-compact table-zebra text-center"},J=t("thead",null,[t("tr",null,[t("td",null,"No"),t("td",null,"Kabupaten"),t("td",null,"Koordinat"),t("td",null,"opsi")])],-1),O={class:"flex gap-2 justify-center"},q=["onClick"],G=["onClick"];function Q(u,n,p,a,R,l){const c=s("input-text"),h=s("InputMapsMark"),d=s("Card"),M=s("VueMaps"),C=s("MapsViewKabupaten"),f=s("ModalMd"),K=s("ButtonSubmit");return r(),k(g,null,[i(d,null,{default:o(()=>[t("div",F,[t("div",L,[i(d,{title:"Tambah Kabupaten",action:""},{action:o(()=>[t("button",{class:V(["btn btn-success",{"btn-disabled loading":a.kabupaten.processing}]),onClick:n[2]||(n[2]=(...e)=>l.submit_kabupaten&&l.submit_kabupaten(...e))},"Simpan",2),t("button",{onClick:n[3]||(n[3]=e=>a.kabupaten.reset()),class:"btn btn-error"},"reset")]),default:o(()=>[i(c,{inputValue:a.kabupaten.nama,"onUpdate:inputValue":n[0]||(n[0]=e=>a.kabupaten.nama=e),error:a.kabupaten.errors.nama,title:"Nama Kabupaten"},null,8,["inputValue","error"]),(r(),b(h,{id:"tambahKabupaten",title:"koordinat",inputValue:a.kabupaten.koordinat,"onUpdate:inputValue":n[1]||(n[1]=e=>a.kabupaten.koordinat=e),key:a.kabupaten.koordinat,error:a.kabupaten.errors.koordinat},null,8,["inputValue","error"]))]),_:1})]),t("div",D,[i(d,{title:"Pratinjau"},{default:o(()=>[(r(),b(M,{nama:a.kabupaten.nama,koordinat:a.kabupaten.koordinat,key:a.kabupaten.koordinat},null,8,["nama","koordinat"]))]),_:1})]),t("div",P,[i(d,{title:"Data Kabupaten"},{default:o(()=>[t("div",A,[t("table",H,[J,t("tbody",null,[(r(!0),k(g,null,N(p.dataKabupaten,(e,v)=>(r(),k("tr",{key:e.id},[t("td",null,_(v+1),1),t("td",null,_(e.nama),1),t("td",null,_(e.koordinat),1),t("td",O,[t("label",{for:"edit-kabupaten",onClick:x=>l.get_kabupaten(e),class:"btn btn-xs btn-primary"}," edit ",8,q),t("label",{for:"hapus-kabupaten",onClick:x=>l.get_hapus_kabupaten(e),class:"btn btn-xs btn-error"}," Hapus ",8,G)])]))),128))])])])]),_:1})]),(r(),k("div",{class:"order-1 lg:col-span-12 h-[25rem] z-0",key:p.dataKabupaten},[i(d,{title:"Preview Map"},{default:o(()=>[i(C,{dataView:p.dataKabupaten},null,8,["dataView"])]),_:1})]))])]),_:1}),(r(),b(f,{id:"edit-kabupaten",title:"Edit Kabupaten",key:a.edit_kabupaten.nama,close:""},{action:o(()=>[t("button",{class:V(["btn btn-success",{"btn-disabled loading":a.edit_kabupaten.processing}]),onClick:n[6]||(n[6]=(...e)=>l.submit_edit_kabupaten&&l.submit_edit_kabupaten(...e))},"Simpan",2),t("button",{onClick:n[7]||(n[7]=e=>a.edit_kabupaten.reset()),class:"btn btn-error"},"reset")]),default:o(()=>[(r(),b(c,{inputValue:a.edit_kabupaten.nama,"onUpdate:inputValue":n[4]||(n[4]=e=>a.edit_kabupaten.nama=e),key:a.edit_kabupaten.nama,error:a.edit_kabupaten.errors.nama,title:"Nama Kabupaten"},null,8,["inputValue","error"])),i(h,{title:"koordinat",id:"edit_kabupaten_map",inputValue:a.edit_kabupaten.koordinat,"onUpdate:inputValue":n[5]||(n[5]=e=>a.edit_kabupaten.koordinat=e),error:a.edit_kabupaten.errors.koordinat},null,8,["inputValue","error"])]),_:1})),(r(),b(f,{id:"hapus-kabupaten",title:`Lanjutkan menghapus ${a.hapus_kabupaten.nama} ?`,key:a.hapus_kabupaten.nama,close:""},{action:o(()=>[i(K,{type:"error",onClick:n[8]||(n[8]=e=>l.submit_hapus_kabupaten()),form:a.hapus_kabupaten},{default:o(()=>[z("Lanjutkan")]),_:1},8,["form"])]),_:1},8,["title"]))],64)}const ia=U(E,[["render",Q]]);export{ia as default};
