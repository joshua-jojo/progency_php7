import{M as v}from"./MainLayout-437e79c3.js";import{_ as L}from"./card2-ad94d59b.js";import{_ as M}from"./ModalResponsive-b7e468e7.js";import{I as N}from"./InputText-f9ac326c.js";import{B as w}from"./ButtonSubmit-13f22934.js";import{L as K,h,r as u,o as e,c as s,b as t,a as m,w as l,d as _,F as g,m as U,t as i,e as y,n as j,g as V}from"./app-1e1e7699.js";import{_ as D}from"./_plugin-vue_export-helper-c27b6911.js";const F={layout:v,components:{card2:L,ModalResponsive:M,InputText:N,ButtonSubmit:w,Link:K},props:{booking:Array},setup(){const o=h({id:null,nama:null,kontak:null,keterangan:null}),r=h({id:null,perumahan:null});return{form:o,form_batal:r}},methods:{submit(){this.form.post(route("menu.data.agen.booking.store"))},submit_batal(){this.form.put(route("menu.data.agen.booking.update",{booking:this.form_batal.id}))},get_booking(o){this.form.id=o.id,this.form.nama=o.nama,this.form.kontak=o.kontak,this.form.keterangan=o.keterangan},get_batal(o){this.form_batal.id=o.id,this.form_batal.perumahan=o.perumahan.nama}}},R={class:"w-full table table-compact"},S=t("thead",null,[t("tr",null,[t("td",null,"no"),t("td",null,"Perumahan"),t("td",null,"Nama"),t("td",null,"Kontak"),t("td",null,"Keterangan"),t("td",null,"Status"),t("td",null,"Opsi")])],-1),T={class:"flex gap-2"},A=t("i",{class:"fa fa-eye"},null,-1),E=["onClick"],I=t("i",{class:"fa fa-pen"},null,-1),P=[I],z=["onClick"],O=t("i",{class:"fa fa-trash"},null,-1),q=[O],G={key:1,class:"text-center"},H=t("td",{colspan:"7"}," Tidak Ada Data!",-1),J=[H];function Q(o,r,f,n,W,d){const C=u("Link"),x=u("card2"),c=u("input-text"),k=u("button-submit"),b=u("ModalResponsive");return e(),s(g,null,[t("div",null,[m(x,{title:"Data Booking"},{default:l(()=>[t("table",R,[S,t("tbody",null,[f.booking.length?(e(!0),s(g,{key:0},U(f.booking,(a,p)=>(e(),s("tr",{key:p},[t("td",null,i(p+1),1),t("td",null,i(a.perumahan.nama),1),t("td",null,i(a.nama),1),t("td",null,i(a.kontak),1),t("td",null,i(a.keterangan),1),t("td",null,i(a.status),1),t("td",T,[m(C,{as:"button",href:o.route("daftar.perumahan.show",{perumahan:a.perumahan.id}),class:"btn btn-xs"},{default:l(()=>[A]),_:2},1032,["href"]),a.status=="diproses"?(e(),s("label",{key:0,for:"edit",onClick:B=>d.get_booking(a),class:"btn btn-xs btn-primary"},P,8,E)):y("",!0),a.status=="terjual"||a.status=="pengajuan hapus"?y("",!0):(e(),s("label",{key:1,class:j([{"btn-disabled":a.status=="hapus"},"btn btn-xs btn-error"]),onClick:B=>d.get_batal(a),for:"batal"},q,10,z))])]))),128)):(e(),s("tr",G,J))])])]),_:1})]),(e(),_(b,{title:"Edit Keterangan",id:"edit",key:n.form.id,close:"true"},{action:l(()=>[(e(),_(k,{form:n.form,onClick:d.submit,key:n.form.processing,type:"success"},{default:l(()=>[V("Ubah")]),_:1},8,["form","onClick"]))]),default:l(()=>[m(c,{title:"nama",inputValue:n.form.nama,"onUpdate:inputValue":r[0]||(r[0]=a=>n.form.nama=a),error:n.form.errors.nama},null,8,["inputValue","error"]),m(c,{title:"kontak",inputValue:n.form.kontak,"onUpdate:inputValue":r[1]||(r[1]=a=>n.form.kontak=a),error:n.form.errors.kontak},null,8,["inputValue","error"]),m(c,{title:"keterangan",inputValue:n.form.keterangan,"onUpdate:inputValue":r[2]||(r[2]=a=>n.form.keterangan=a),error:n.form.errors.keterangan},null,8,["inputValue","error"])]),_:1})),(e(),_(b,{title:`Pengajuan Batal ${n.form_batal.perumahan}`,close:"true",key:n.form_batal.id,id:"batal"},{action:l(()=>[(e(),_(k,{form:n.form_batal,onClick:d.submit_batal,key:n.form_batal.processing,type:"error"},{default:l(()=>[V("Kirim")]),_:1},8,["form","onClick"]))]),_:1},8,["title"]))],64)}const ot=D(F,[["render",Q]]);export{ot as default};
